<mxfile host="app.diagrams.net">
  <diagram name="YOLO Detection Flow">
    <mxGraphModel dx="1224" dy="621" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        
        <!-- Start -->
        <mxCell id="start" value="Start" style="ellipse;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="160" y="20" width="120" height="50" as="geometry"/>
        </mxCell>

        <!-- Input -->
        <mxCell id="input" value="Input: image_name" style="rounded=1;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="120" y="90" width="200" height="50" as="geometry"/>
        </mxCell>

        <!-- Load model -->
        <mxCell id="load_model" value="Load YOLO model (.pt)" style="rounded=1;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="120" y="150" width="200" height="50" as="geometry"/>
        </mxCell>

        <!-- Join path -->
        <mxCell id="join_path" value="Join image path to folder" style="rounded=1;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="120" y="210" width="200" height="50" as="geometry"/>
        </mxCell>

        <!-- Ensure output dir -->
        <mxCell id="ensure_dir" value="Ensure output directory exists" style="rounded=1;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="120" y="270" width="200" height="50" as="geometry"/>
        </mxCell>

        <!-- Run YOLO -->
        <mxCell id="run_detect" value="Run YOLO detection (conf=0.7)" style="rounded=1;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="120" y="330" width="200" height="60" as="geometry"/>
        </mxCell>

        <!-- Extract class names -->
        <mxCell id="extract" value="Extract class names from results" style="rounded=1;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="120" y="400" width="200" height="60" as="geometry"/>
        </mxCell>

        <!-- Return -->
        <mxCell id="return" value="Return list of detections" style="rounded=1;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="120" y="470" width="200" height="50" as="geometry"/>
        </mxCell>

        <!-- End -->
        <mxCell id="end" value="End" style="ellipse;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="160" y="540" width="120" height="50" as="geometry"/>
        </mxCell>

        <!-- Connections -->
        <mxCell edge="1" source="start" target="input" parent="1" style="endArrow=block;"/>
        <mxCell edge="1" source="input" target="load_model" parent="1" style="endArrow=block;"/>
        <mxCell edge="1" source="load_model" target="join_path" parent="1" style="endArrow=block;"/>
        <mxCell edge="1" source="join_path" target="ensure_dir" parent="1" style="endArrow=block;"/>
        <mxCell edge="1" source="ensure_dir" target="run_detect" parent="1" style="endArrow=block;"/>
        <mxCell edge="1" source="run_detect" target="extract" parent="1" style="endArrow=block;"/>
        <mxCell edge="1" source="extract" target="return" parent="1" style="endArrow=block;"/>
        <mxCell edge="1" source="return" target="end" parent="1" style="endArrow=block;"/>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
